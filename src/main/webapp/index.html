<html xmlns:v-bind="http://www.w3.org/1999/xhtml" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
    <title>Gifssss</title>
    <script src="javascripts/jquery.min.js"></script>
    <script src="javascripts/vue.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="stylesheets/bulma.css">
    <link rel="stylesheet" href="stylesheets/style.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<nav class="navbar is-fixed-top is-light">
    <div class="container">
        <nav class="navbar" role="navigation" aria-label="main navigation">
            <div class="navbar-brand">
                <a class="navbar-item">
                    <i class="fas fa-camera-retro fa-5x"></i>
                    <p style="font-size: 50px"><strong>Gif Gallery</strong></p>
                </a>
            </div>
            <div class="navbar-menu">
                <div class="navbar-start">
                <div class="navbar-item">
                    <i class="fas fa-home-retro fa-5x"></i>
                </div>
                </div>
                <div class="navbar-end">
                <div class="navbar-item">
                <p style="font-size: 30px; font-family: 微软雅黑"><strong style="color: black">分类</strong></p>
                </div>
                </div>
            </div>
        </nav>
    </div>
</nav>
<div class="container" style="margin-top: 150px" id="container">
    <div class="multiLoad" v-for="list in lists">
        <div class="tile is-ancestor">
            <div class="tile is-vertical is-7">
                <div class="tile">
                    <div class="tile is-parent is-vertical">
                        <v_article v-bind:item="list[0]"></v_article>
                        <v_article v-bind:item="list[1]"></v_article>
                    </div>
                    <div class="tile is-parent is-vertical">
                        <v_article v-bind:item="list[2]"></v_article>
                        <v_article v-bind:item="list[3]"></v_article>
                    </div>
                </div>
                <div class="tile is-parent">
                    <v_article v-bind:item="list[4]"></v_article>
                </div>
            </div>
            <div class="tile is-parent is-vertical">
                <v_article v-bind:item="list[5]"></v_article>
                <v_article v-bind:item="list[6]"></v_article>
                <v_article v-bind:item="list[7]"></v_article>
            </div>
        </div>

        <div class="tile is-ancestor">
            <div class="tile is-parent is-vertical">
                <v_article v-bind:item="list[8]"></v_article>
                <v_article v-bind:item="list[9]"></v_article>
                <v_article v-bind:item="list[10]"></v_article>
                <v_article v-bind:item="list[11]"></v_article>
            </div>
            <div class="tile is-vertical is-9">
                <div class="tile">
                    <div class="tile is-parent is-vertical">
                        <v_article v-bind:item="list[12]"></v_article>
                        <v_article v-bind:item="list[13]"></v_article>
                    </div>
                    <div class="tile is-parent is-vertical">
                        <v_article v-bind:item="list[14]"></v_article>
                        <v_article v-bind:item="list[15]"></v_article>
                    </div>
                </div>
                <div class="tile is-parent">
                    <v_article v-bind:item="list[16]"></v_article>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="content has-text-centered">
            <a class="button" v-on:click="load" style="width: 960px; margin-top:50px; margin-bottom: 100px"><strong>加载更多</strong></a>
        </div>
    </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                <strong>Gif Gallery</strong><br>
                内容均来自互联网，版权归原作者所有，如有侵权请立即与我们联系,我们将及时处理<br>
                @pmwx
            </p>
        </div>
    </div>
</footer>
</body>
<script>
    $('.tile').addClass('animated pulse');
    Vue.component('v_article', {
        props: ['item'],
        template: "<article class='tile is-child box'>" +
        "                        <p class='title'>{{item.title}}</p>" +
        "                        <p class='subtitle'>来源:{{item.origin}}</p>" +
        "                        <figure class='image is-4by3'>" +
        "                            <img v-bind:src='item.url'>" +
        "                        </figure>" +
        "                        <div class='content'>" +
        "                            <div class='comments' style='margin-top: 5px'>" +

        "                            </div>" +
        "                            <div class='control' style='margin-top: 5px'>" +
        "                                <textarea class='textarea' placeholder='评论'></textarea>" +
        "                            </div>" +
        "                            <div class='control' style='margin-top: 5px'>" +
        "                                <button class='button is-primary is-small'>提交</button>" +
        "                            </div>" +
        "                        </div>" +
        "                    </article>"
    });
    var vm = new Vue({
        el: '#container',
        data: {
            pageNum : 0,
            pageSize : 17,
            lists : []
        },
        created: function () {
            //种入cookie

            var _self = this;
            $.get("/getGifList?pageNum=" + _self.pageNum + "&pageSize=" + _self.pageSize, function (data) {
                _self.lists.push(data.data);
            });
        },
        methods : {
            load : function(){
                var _self = this;
                _self.pageNum++;
                $.get("/getGifList?pageNum=" + _self.pageNum + "&pageSize=" + _self.pageSize, function (data) {
                    _self.lists.push(data.data);
                });
            }
        }
    });
</script>
</html>